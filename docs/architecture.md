# トクビザ - システムアーキテクチャ

*Supabase × Next.js × Vercel × Modal による次世代特定技能採用プラットフォーム*

## プロジェクト概要

トクビザは、特定技能外国人の採用から雇用管理までをワンストップで支援する**完全無料**のSaaSプラットフォームです。

## システム全体アーキテクチャ

```
┌─────────────────────────────────────┐
│         Vercel (Next.js)            │
└─────────────────────────────────────┘
                  ↓
┌──────────────┐    ┌────────────────┐
│  API Routes  │    │ Modal(PDF処理) │
└──────────────┘    └────────────────┘
         ↓                    ↓
┌─────────────────────────────────────┐
│            Supabase                 │
└─────────────────────────────────────┘
                  ↓
┌──────────┐ ┌──────┐ ┌─────────┐ ┌─────┐
│PostgreSQL│ │ Auth │ │ Storage │ │ RLS │
└──────────┘ └──────┘ └─────────┘ └─────┘
```

## Supabase - バックエンドインフラ

オープンソースのBaaS（Backend as a Service）として、トクビザの基盤を支えています。

### PostgreSQL
特定技能外国人データの安全な保管

### 認証システム
企業・外国人のセキュアなログイン管理

### Row Level Security
企業ごとのデータ分離とセキュリティ

### ストレージ
書類・画像の安全な保管

## Next.js - フロントエンドフレームワーク

React基盤の最新フルスタックフレームワークで、高速でSEOに強いアプリケーションを構築。

### App Router
最新のルーティングシステムで直感的なURL設計

### Server Components
サーバーサイドレンダリングで高速表示

### TypeScript
型安全性による堅牢な開発

### Tailwind CSS
効率的なスタイリングシステム

## Vercel - ホスティング&デプロイメント

Next.jsに最適化された高速なデプロイメントプラットフォーム。

### 自動デプロイ
GitHubプッシュで即座に本番環境へ反映

### プレビュー環境
PRごとに独立した検証環境を自動生成

### エッジネットワーク
世界中どこからでも高速アクセス

### Analytics
パフォーマンス監視と最適化

## Modal - PDF処理専用サーバー

特定技能に必要な40種類以上の書類をPythonで高速自動生成するサーバーレス基盤。

### Python実装
PDFライブラリを活用した柔軟な書類生成

### オンデマンド実行
必要な時だけ起動しコストを最適化

### 高速処理
複雑な書類も数秒で生成完了

### スケーラブル
同時に大量の書類生成リクエストにも対応

## 技術スタックのメリット

- **開発速度：** Supabaseの統合機能とNext.jsのフルスタック機能により、迅速な機能開発が可能
- **スケーラビリティ：** VercelとModalの組み合わせで、ユーザー数の増加に自動対応
- **コスト効率：** サーバーレスアーキテクチャにより、使った分だけの課金で運用コストを最適化
- **セキュリティ：** Supabaseの RLS とNext.jsの型安全性により、堅牢なシステムを実現